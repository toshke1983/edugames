<!DOCTYPE html>
<html>
<head>
    <title>Europe Map Quiz</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; text-align: center; background-color: #f4f7f6; margin: 0; padding: 20px; }
        #game-container { margin: 0 auto; max-width: 1000px; background: white; padding: 20px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }

        #streak {
            color: #e67e22; /* Orange for fire */
            transition: all 0.2s;
        }
        
        /* A simple animation for when the streak resets */
        .shake {
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }
        
        /* This styles your SVG automatically once it loads */
        svg { width: 100%; height: auto; max-height: 70vh; }
        svg path {
            fill: #d1d8e0;
            stroke: #ffffff;
            stroke-width: 0.5;
            cursor: pointer;
            transition: fill 0.2s, transform 0.2s;
        }
        svg path:hover { fill: #45aaf2 !important; }
        
        #target-country { color: #2d3436; font-size: 2.5em; margin: 15px 0; }
        #score-board { font-size: 1.5em; color: #20bf6b; font-weight: bold; }
        #message { height: 40px; margin-top: 10px; font-size: 1.3em; font-weight: bold; }
    </style>
</head>
<body>

<div id="game-container">
    <h1>Europe Map Explorer üåç</h1>
    <div id="score-board">
    Score: <span id="score">0</span> | 
    Streak: <span id="streak">0</span> üî• | 
    Best: <span id="best-streak">0</span> üèÜ
    </div>
    <div id="target-country">Loading Map...</div>
    <button onclick="skipCountry()" style="margin-top: 10px; padding: 10px; cursor: pointer;">Skip Country ‚è≠Ô∏è</button>
    <div id="message"></div>

    <div id="map-placeholder">
        </div>
</div>

<script>
    // 1. THE DICTIONARY: Maps the SVG IDs to real names
    // Add more codes here based on what's in your file!
const countryNames = {
        // Western Europe
        "AT": "Austria",
        "BE": "Belgium",
        "FR": "France",
        "DE": "Germany",
        "LU": "Luxembourg",
        "NL": "Netherlands",
        "CH": "Switzerland",

        // Northern Europe
        "DK": "Denmark",
        "EE": "Estonia",
        "FI": "Finland",
        "IS": "Iceland",
        "IE": "Ireland",
        "LV": "Latvia",
        "LT": "Lithuania",
        "NO": "Norway",
        "SE": "Sweden",
        "GB": "United Kingdom",

        // Southern Europe
        "AL": "Albania",
        "BA": "Bosnia and Herzegovina",
        "HR": "Croatia",
        "GR": "Greece",
        "IT": "Italy",
        "ME": "Montenegro",
        "MK": "North Macedonia",
        "PT": "Portugal",
        "RS": "Serbia",
        "ES": "Spain",
        "CY": "Cyprus",
        "XK": "Kosovo",

        // Eastern Europe & Central
        "BY": "Belarus",
        "BG": "Bulgaria",
        "CZ": "Czech Republic",
        "HU": "Hungary",
        "MD": "Moldova",
        "PL": "Poland",
        "RO": "Romania",
        "SK": "Slovakia",
        "UA": "Ukraine",

        // Transcontinental (Usually on Europe maps)
        "GE": "Georgia",
        "AZ": "Azerbaijan",
        "AM": "Armenia",
        "TR": "Turkey"
    };
    let currentID = ""; 
    let score = 0;

    // 2. FETCH AND INJECT THE SVG
    fetch('europe.svg')
        .then(response => response.text())
        .then(svgData => {
            document.getElementById('map-placeholder').innerHTML = svgData;
            setupGame();
        })
        .catch(err => {
            document.getElementById('target-country').innerText = "Error: Check your server!";
            console.error(err);
        });

    let score = 0;
    let streak = 0;
    let maxStreak = 0;

    function setupGame() {
        const paths = document.querySelectorAll('svg path');
        
        paths.forEach(path => {
            path.addEventListener('click', function() {
                const clickedID = this.id.toUpperCase();
                const clickedName = countryNames[clickedID] || clickedID;

                if (clickedID === currentID) {
                    // --- SUCCESS ---
                    score++;
                    streak++;
                    
                    // Update Best Streak
                    if (streak > maxStreak) {
                        maxStreak = streak;
                        document.getElementById('best-streak').innerText = maxStreak;
                    }

                    document.getElementById('score').innerText = score;
                    document.getElementById('streak').innerText = streak;
                    
                    document.getElementById('message').innerText = `Perfect! Streak: ${streak} üî•`;
                    document.getElementById('message').style.color = "#20bf6b";
                    
                    this.style.fill = "#2ecc71"; 
                    setTimeout(() => {
                        this.style.fill = ""; 
                        nextQuestion();
                    }, 800);

                } else {
                    // --- MISTAKE ---
                    streak = 0; // Reset streak!
                    document.getElementById('streak').innerText = streak;
                    
                    // Visual feedback for breaking the streak
                    document.getElementById('game-container').classList.add('shake');
                    setTimeout(() => document.getElementById('game-container').classList.remove('shake'), 500);

                    document.getElementById('message').innerText = `Oops! That was ${clickedName}. Streak lost! üßä`;
                    document.getElementById('message').style.color = "#eb4d4b";
                }
            });
        });
        nextQuestion();
    }

    function nextQuestion() {
        // Pick a random ID from our dictionary
        const keys = Object.keys(countryNames);
        currentID = keys[Math.floor(Math.random() * keys.length)];
        
        // Display the friendly Name, not the ID
        document.getElementById('target-country').innerText = "Find: " + countryNames[currentID];
        document.getElementById('message').innerText = "";
    }
    function skipCountry() {
        streak = 0;
        document.getElementById('streak').innerText = streak;
        nextQuestion();
    }
</script>
</body>
</html>
